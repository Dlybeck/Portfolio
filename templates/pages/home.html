{% extends "shared/base.html" %}

{% block title %}
    <title>dlybeck.com</title>
{% endblock %}

{% block content %}
<!-- <iframe src="https://davidlybeck.com/index.html">
</iframe> -->

<style>
    /* Center because flex messes up position*/
    .navbar {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        z-index: 1000;
    }

    body {
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 2rem;
        margin: 0;
        padding: 0;
        font-family: Arial, sans-serif;
    }

    .tile-container {
        width: 150px;
        height: 150px;
        position: relative;
        transition: all 0.4s ease;
    }

    .tile-container.active {
        width: 300px;
        height: 400px;
    }

    .tile {
        position: absolute;
        width: 100%;
        height: 100%;
        background: white;
        border-radius: 20px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        transition: all 0.4s ease;
    }

    .tile-contents {
        opacity: 0;
        transition: all 0.3s ease;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        pointer-events: none;
    }

    .tile-container.active .tile-contents {
        opacity: 1;
        margin-top: 20px;
        margin-bottom: 30px;
        pointer-events: auto;
    }

    /* Desktop hover behavior */
    @media (hover: hover) {
        .tile-container:hover {
            width: 300px;
            height: 400px;
        }

        .tile-container:hover .tile-contents {
            opacity: 1;
            margin-top: 20px;
            margin-bottom: 30px;
            pointer-events: auto;
        }
    }

    .todo-box {
        background: linear-gradient(145deg, #9AD3F5, #83b3cf);
    }

    .timer-box {
        background: linear-gradient(145deg, #F59296, #ce7c7f);
    }

    .tile-title {
        color: black;
        font-size: 1.5rem;
        font-weight: bold;
        text-align: center;
        font-size: x-large;
    }

    .button {
        background-color: #FFFFFF;
        padding: 15px;
        padding-left: 30px;
        padding-right: 30px;
        border-radius: 10px;
        border-width: 0;
        margin-left: auto;
        margin-right: auto;
        margin-top: 25px;
        font-weight: 900;
        font-size: xx-large;
        transition: all 0.3s ease;
        text-decoration: inherit;
        cursor: pointer;
    }

    .button:hover {
        background-color: #EEEEEE;
        padding: 17px;
        padding-left: 33px;
        padding-right: 33px;
    }

    .todo-box .button {
        color: #73a3bf;
    }

    .timer-box .button {
        color: #be6c6f;
    }

    @media (max-width: 680px) {
        body {
            flex-direction: column;
            padding: 2rem 0;
        }
    }
</style>

<div class="tiles" id="tile-container"></div>

<script>
    const tilesData = [
        "Home", "Hobbies", "Projects", "Jobs", "Education",
        "Tennis", "3D Printing", "Gaming", "Other Models", "Puzzles"
    ];

    const container = document.body;

    tilesData.forEach(title => {
        const tileWrapper = document.createElement('div');
        tileWrapper.className = 'tile-container';

        const tile = document.createElement('div');
        tile.className = 'tile ' + title;

        const tileContents = document.createElement('div');
        tileContents.className = 'tile-contents';

        const tileTitle = document.createElement('h2');
        tileTitle.className = 'tile-title';
        tileTitle.innerHTML = title;

        const button = document.createElement('a');
        button.className = 'button';
        button.href = '';
        button.textContent = 'GO';

        tileContents.appendChild(tileTitle);
        tileContents.appendChild(button);
        tile.appendChild(tileContents);
        tileWrapper.appendChild(tile);
        container.appendChild(tileWrapper);
    });
</script>



<script>
    document.addEventListener('DOMContentLoaded', function() {
    const tileContainers = document.querySelectorAll('.tile-container');

    tileContainers.forEach(container => {
        const tileElement = container.querySelector('.tile');
        const buttonElement = container.querySelector('.button');

        // Handle click events on the tile
        tileElement.addEventListener('click', function(e) {
            handleTileClick(e, container);
        });

        // Handle touch events on the tile
        tileElement.addEventListener('touchstart', function(e) {
            handleTileClick(e, container);
        });

        // Ensure the button click is handled separately
        if (buttonElement) {
            buttonElement.addEventListener('click', function(e) {
                e.stopPropagation();
            });

            buttonElement.addEventListener('touchstart', function(e) {
                e.stopPropagation();
            });
        }
    });

    // Close expanded tile when clicking outside
    document.addEventListener('click', function(e) {
        handleOutsideClick(e);
    });

    document.addEventListener('touchstart', function(e) {
        handleOutsideClick(e);
    });

    function handleTileClick(e, container) {
        // If clicking the button, allow the click
        if (e.target.classList.contains('button')) {
            return;
        }

        // Prevent button click when not expanded
        e.preventDefault();

        // Remove active from other tiles
        tileContainers.forEach(c => {
            if (c !== container) c.classList.remove('active');
        });

        // Toggle active on clicked tile
        container.classList.toggle('active');
    }

    function handleOutsideClick(e) {
        if (!e.target.closest('.tile-container')) {
            tileContainers.forEach(container => {
                container.classList.remove('active');
            });
        }
    }
});

</script>



{% endblock %}
